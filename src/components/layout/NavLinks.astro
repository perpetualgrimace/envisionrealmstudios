---
const currPath = Astro.url.pathname;

const links = [
	{title: "Projects", href: "/projects/"},
	{title: "About", href: "/about/", a11y: "Envision Realm Studios"},
	{title: "Careers", href: "/careers/"},
	{title: "Contact us", href: "/contact/"}
];

function getPage(url) {
	return url.split("/")[1];
}
---

<ul class="nav-links">
  {links.map(link => (
    <li class="nav-item">
      <a
        class="nav-link u-heading u-font-xxs"
        href={link.href}
        aria-current={getPage(currPath) === getPage(link.href) ? "page" : null}
      >
        {link.title}{link.a11y &&
          <span class="u-visually-hidden"> {link.a11y}</span>
        }
      </a>
    </li>
  ))}
</ul>

<style is:global lang="scss">
	@import '../../styles/global';

	.nav-links {
		display: flex;
		flex-wrap: wrap;
	}

	.nav-link {
		text-transform: uppercase;
		text-decoration: none;
		padding: 0.5em 0.75em;
		margin-bottom: 0 !important;
		display: block;
		z-index: 1;

		&:not([aria-current="page"]) {
			color: $walnut;
		}

		&:hover, &:focus {
			color: $white;
		}
	}
</style>